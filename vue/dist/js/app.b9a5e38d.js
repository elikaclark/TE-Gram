(function(t){function e(e){for(var a,r,i=e[0],c=e[1],l=e[2],d=0,p=[];d<i.length;d++)r=i[d],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&p.push(o[r][0]),o[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(p.length)p.shift()();return n.push.apply(n,l||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],a=!0,i=1;i<s.length;i++){var c=s[i];0!==o[c]&&(a=!1)}a&&(n.splice(e--,1),t=r(r.s=s[0]))}return t}var a={},o={app:0},n=[];function r(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=a,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(s,a,function(e){return t[e]}.bind(null,a));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0311":function(t,e,s){"use strict";var a=s("fa99"),o=s.n(a);o.a},2104:function(t,e,s){},2862:function(t,e,s){"use strict";var a=s("2104"),o=s.n(a);o.a},"28a0":function(t,e,s){},"430c":function(t,e,s){"use strict";var a=s("d839"),o=s.n(a);o.a},"4aa2":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("cadf"),s("551c"),s("f751"),s("097d");var a=s("2b0e"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("div",{attrs:{id:"nav"}},[""!=t.$store.state.token?s("nav",{staticClass:"navbar d-flex navbar-expand-sm bg-dark navbar-dark fixed-top justify-content-between"},[s("div",[s("router-link",{attrs:{to:{name:"home"},id:"logo"}},[s("i",{staticClass:"fas fa-mug-hot"}),t._v(" TE Time\n        ")])],1),s("div",[s("router-link",{staticClass:"btn btn-success",attrs:{id:"addButton",to:{name:"upload"}}},[s("i",{staticClass:"far fa-plus-square"})])],1),s("span",{staticClass:"d-flex"},[s("router-link",{attrs:{to:"/profile/"+t.$store.state.user.id}},[s("button",{staticClass:"btn btn-dark"},[s("i",{staticClass:"fas fa-user"})])]),s("router-link",{attrs:{to:{name:"explore"}}},[s("button",{staticClass:"btn btn-dark"},[s("i",{staticClass:"fas fa-compass"})])]),s("router-link",{attrs:{to:{name:"favorites"}}},[s("button",{staticClass:"btn btn-dark"},[s("i",{staticClass:"fas fa-star"})])]),s("router-link",{attrs:{to:"/settings/"+t.$store.state.user.id}},[s("button",{staticClass:"btn btn-dark"},[s("i",{staticClass:"fas fa-cog"})])]),""!=t.$store.state.token?s("router-link",{staticClass:"btn btn-danger",attrs:{to:{name:"logout"}}},[s("i",{staticClass:"fas fa-sign-out-alt"})]):t._e()],1)]):t._e(),s("br"),s("br"),s("br")]),s("router-view")],1)},n=[],r=(s("430c"),s("2877")),i={},c=Object(r["a"])(i,o,n,!1,null,"04915be8",null),l=c.exports,u=(s("759f"),s("8c4f")),d=s("2f62"),p=s("bc3a"),m=s.n(p);a["default"].use(d["a"]);var h=localStorage.getItem("token"),f=JSON.parse(localStorage.getItem("user"));null!=h&&(m.a.defaults.headers.common["Authorization"]="Bearer ".concat(h));var v=new d["a"].Store({state:{token:h||"",user:f||{}},mutations:{SET_AUTH_TOKEN:function(t,e){t.token=e,localStorage.setItem("token",e),m.a.defaults.headers.common["Authorization"]="Bearer ".concat(e)},SET_USER:function(t,e){t.user=e,localStorage.setItem("user",JSON.stringify(e))},LOGOUT:function(t){localStorage.removeItem("token"),localStorage.removeItem("user"),t.token="",t.user={},m.a.defaults.headers.common={}}}}),b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"text-center"},[s("h1",[t._v("Welcome, "+t._s(t.$store.state.user.name))])]),s("PostPhoto",{attrs:{photos:t.photos}})],1)},g=[],_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"row posts"},t._l(t.photos,(function(e){return s("div",{key:e.photo_id,staticClass:"col-sm-12 col-md-4 post-box"},[s("div",{staticClass:"d-flex justify-content-between bg-dark"},[s("router-link",{attrs:{to:"/profile/"+e.user_id,id:"postUsername"}},[s("span",{staticClass:"d-flex"},[s("button",{staticClass:"btn btn-dark"},[s("i",{staticClass:"far fa-user"})]),s("span",{staticClass:"d-flex align-items-center"},[s("Username",{attrs:{photo:e}})],1)])]),s("Edit",{attrs:{photo:e}})],1),s("div",[s("div",[s("img",{staticClass:"postImg imgHover",attrs:{src:e.photo_src,alt:"","data-toggle":"modal","data-target":"#picModal"+e.photo_id},on:{click:function(e){return t.flip()}}})]),s("div",{directives:[{name:"show",rawName:"v-show",value:1==t.modalOn,expression:"modalOn==true"}],staticClass:"modal fade",attrs:{id:"picModal"+e.photo_id,tabindex:"-1",role:"dialog","aria-labelledby":"picModalTitle","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog modal-dialog-centered modal-lg",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header bg-dark"},[s("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLongTitle"}},[s("Username",{attrs:{photo:e,id:"postUsername"}})],1),t._m(0,!0)]),s("div",{staticClass:"modal-body"},[s("img",{staticClass:"modalImg",attrs:{src:e.photo_src,alt:""}}),s("div",{staticClass:"col align-self-center"},[t._v('"'+t._s(e.description)+'"')])]),t._m(1,!0)])])]),s("div",{staticClass:"d-flex bg-dark"},[s("div",{staticClass:"p-2"},[s("Likes",{attrs:{photo:e}})],1),s("div",{staticClass:"p-2"},[s("PhotoComments",{attrs:{photo:e}})],1),s("div",{staticClass:"ml-auto p-2"},[s("Favorite",{attrs:{photo:e}})],1)]),s("div",{staticClass:"bg-dark",attrs:{id:"description"}},[s("span",{staticClass:"d-flex justify-content-between"},[s("b",[s("Username",{attrs:{photo:e}})],1),t._v("\n            "+t._s(e.timestamp)+"\n          ")]),t._v('\n          "'+t._s(t._f("limit")(e.description,117))+'"\n        ')])])])})),0)])},C=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-footer bg-dark"},[s("button",{staticClass:"btn btn-light",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])}],y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.inFavorites(t.photo.photo_id)?s("button",{staticClass:"btn btn-warning",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.deleteFromFavorite(t.photo.photo_id)}}},[t._m(1)]):s("button",{staticClass:"btn btn-dark",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.addToFavorite(t.photo.photo_id)}}},[t._m(0)])])},w=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",[s("i",{staticClass:"far fa-star"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",[s("i",{staticClass:"fas fa-star"})])}],x=(s("ac6a"),s("f3e2"),{name:"favorites",props:{photo:Object},data:function(){return{photos:[],userFavPhotos:[]}},mounted:function(){this.checkUserFavorites()},methods:{checkUserFavorites:function(){var t=this;fetch("http://localhost:8080/"+this.$store.state.user.id+"/favorites",{method:"GET"}).then((function(t){return t.json()})).then((function(e){t.userFavPhotos=e})).catch((function(t){console.log(t)}))},inFavorites:function(t){var e=!1;return this.userFavPhotos.forEach((function(s){s.photo_id==t&&(e=!0)})),e},addToFavorite:function(t){var e=this;fetch("http://localhost:8080/addFavorite",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({user_id:this.$store.state.user.id,photo_id:t})}).then((function(t){201===t.status&&e.checkUserFavorites()})).catch((function(t){console.log(t)}))},deleteFromFavorite:function(t){var e=this;fetch("http://localhost:8080/deleteFavorite",{method:"DELETE",headers:{"content-type":"application/json"},body:JSON.stringify({user_id:this.$store.state.user.id,photo_id:t})}).then((function(t){204===t.status&&e.checkUserFavorites()})).catch((function(t){console.log(t)}))}}}),k=x,P=(s("d30d"),Object(r["a"])(k,y,w,!1,null,"83480802",null)),E=P.exports,$=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("button",{staticClass:"btn btn-dark",attrs:{type:"button","data-toggle":"modal","data-target":"#exampleModal"+t.photo.photo_id},on:{click:function(e){return t.commentsByPhoto(t.photo.photo_id)}}},[t._m(0)]),s("div",{staticClass:"modal fade",attrs:{id:"exampleModal"+t.photo.photo_id,tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(1),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],attrs:{type:"text",id:"comment-upload",placeholder:"Leave a comment...",maxlength:"250",required:""},domProps:{value:t.text},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submitComment(e)},input:function(e){e.target.composing||(t.text=e.target.value)}}}),s("button",{staticClass:"btn btn-success",on:{click:function(e){return t.saveUpload()}}},[t._v("SEND")]),t._l(t.allCommentsOnPhoto,(function(e){return s("div",{key:e.comment_id,staticClass:"modal-body"},[t.$store.state.user.id==e.user_id||"ROLE_ADMIN"===t.$store.state.user.authorities[0].name?s("button",{staticClass:"btn btn-danger float-right",on:{click:function(s){return t.deleteComment(e.comment_id)}}},[t._v("X")]):t._e(),s("div",{staticClass:"d-flex justify-content-between"},[s("b",[s("Username",{attrs:{photo:e}})],1),t._v("\n            "+t._s(e.datetime)+"\n          ")]),t._v('\n          "'+t._s(e.text)+'"\n          '),s("br"),s("form")])})),t._m(2)],2)])])])},j=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",[s("i",{staticClass:"far fa-comments"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-header bg-dark"},[s("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Comments")]),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-footer bg-dark"},[s("button",{staticClass:"btn btn-light",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])}],O=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._v(t._s(t.users.name))])},U=[],S={name:"Username",data:function(){return{users:""}},props:{photo:Object},created:function(){var t=this,e="http://localhost:8080/user/"+this.photo.user_id;fetch(e,{method:"get"}).then((function(t){return t.json()})).then((function(e){t.users=e}))}},T=S,N=Object(r["a"])(T,O,U,!1,null,null,null),F=N.exports,L={name:"photoComments",components:{Username:F},data:function(){return{allCommentsOnPhoto:"",text:""}},props:{photo:Object},methods:{commentsByPhoto:function(t){var e=this,s="http://localhost:8080/"+t+"/comments";fetch(s,{method:"GET"}).then((function(t){return t.json()})).then((function(t){e.allCommentsOnPhoto=t})).catch((function(t){console.log(t)}))},saveUpload:function(){fetch("http://localhost:8080/addComment/",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({text:this.text,user_id:this.$store.state.user.id,likes:1,photo_id:this.photo.photo_id})}).then((function(t){console.log(t)})),window.location.reload()},deleteComment:function(t){var e="http://localhost:8080/comments/"+t;fetch(e,{method:"delete"}),window.location.reload()}}},A=L,M=(s("0311"),Object(r["a"])(A,$,j,!1,null,"aee4fcfa",null)),q=M.exports,D=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.inLikes(t.photo.photo_id)?s("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.unLike(t.photo.photo_id),t.likes-=1}}},[s("span",[s("i",{staticClass:"fas fa-heart"}),t._v("\n      "+t._s(t.likes)+"\n    ")])]):s("button",{staticClass:"btn btn-dark",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.addLike(t.photo.photo_id),t.likes+=1}}},[s("span",[s("i",{staticClass:"far fa-heart"}),t._v("\n      "+t._s(t.likes)+"\n    ")])])])},I=[],B={name:"Likes",props:{photo:Object},data:function(){return{photos:[],likedPhotos:[],likes:this.photo.likes}},mounted:function(){this.checkUserFavorites()},methods:{checkUserFavorites:function(){var t=this;fetch("http://localhost:8080/"+this.$store.state.user.id+"/likes",{method:"GET"}).then((function(t){return t.json()})).then((function(e){t.likedPhotos=e})).catch((function(t){console.log(t)}))},inLikes:function(t){var e=!1;return this.likedPhotos.forEach((function(s){s.photo_id==t&&(e=!0)})),e},addLike:function(t){var e=this;fetch("http://localhost:8080/addLike",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({user_id:this.$store.state.user.id,photo_id:t})}).then((function(t){201===t.status&&e.checkUserFavorites()})).catch((function(t){console.log(t)}))},unLike:function(t){var e=this;fetch("http://localhost:8080/deleteLike",{method:"DELETE",headers:{"content-type":"application/json"},body:JSON.stringify({user_id:this.$store.state.user.id,photo_id:t})}).then((function(t){204===t.status&&e.checkUserFavorites()})).catch((function(t){console.log(t)}))}}},J=B,R=(s("e365"),Object(r["a"])(J,D,I,!1,null,"6420c506",null)),z=R.exports,G=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},["ROLE_ADMIN"===t.$store.state.user.authorities[0].name||t.$store.state.user.id==t.$route.params.id?s("button",{staticClass:"btn btn-info",attrs:{type:"button","data-toggle":"modal","data-target":"#editModal"+t.photo.photo_id}},[s("i",{staticClass:"far fa-edit"})]):t._e(),s("br"),s("div",{staticClass:"modal fade",attrs:{id:"editModal"+t.photo.photo_id,tabindex:"-1",role:"dialog","aria-labelledby":"editModalLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(0),s("div",{staticClass:"modal-body"},[s("img",{staticStyle:{width:"100%"},attrs:{src:t.photo.photo_src}}),s("form",[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],attrs:{type:"text",placeholder:"New Description"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),s("div",{staticClass:"d-flex justify-content-between"},[s("button",{staticClass:"btn btn-success",attrs:{type:"submit"},on:{click:function(e){return t.editUpload()}}},[t._v("Confirm Changes")]),s("button",{staticClass:"btn btn-danger",attrs:{type:"submit"},on:{click:function(e){return t.deleteUpload(t.photo.photo_id)}}},[t._v("DELETE POST")])])]),t._m(1)])])])])},H=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-header bg-dark",attrs:{id:"banner"}},[s("h5",{staticClass:"modal-title",attrs:{id:"editModalLabel"}},[t._v("Edit")]),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-footer bg-dark"},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])}],Z={name:"edit",props:{photo:Object},data:function(){return{description:""}},methods:{editUpload:function(){fetch("http://localhost:8080/editPhoto",{method:"put",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({photo_id:this.photo.photo_id,description:this.description,photo_src:this.photo.photo_src,likes:this.photo.likes,user_id:this.$store.state.user.id,profile:!1})}).then((function(t){console.log(t),window.location.reload()}))},deleteUpload:function(t){var e="http://localhost:8080/photos/"+t;fetch(e,{method:"delete"}),this.$router.push("/")}}},K=Z,X=(s("b08b"),Object(r["a"])(K,G,H,!1,null,"078f9c08",null)),V=X.exports,W={data:function(){return{modalOn:!1}},components:{Favorite:E,PhotoComments:q,Likes:z,Edit:V,Username:F},props:{photos:Array},filters:{limit:function(t){return t.length>120&&(t=t.substring(0,117)+"..."),t}},methods:{flip:function(){this.modalOn=!this.modalOn}}},Q=W,Y=(s("8f09"),Object(r["a"])(Q,_,C,!1,null,"34b51098",null)),tt=Y.exports,et={name:"home",components:{PostPhoto:tt},data:function(){return{photos:[]}},mounted:function(){var t=this;fetch("http://localhost:8080/photos",{method:"get"}).then((function(t){return t.json()})).then((function(e){t.photos=e.reverse()}))}},st=et,at=Object(r["a"])(st,b,g,!1,null,null,null),ot=at.exports,nt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container main"},[s("div",{staticClass:"row double-box"},[t._m(0),s("div",{staticClass:"form-box col-sm-12 col-lg-6 d-flex justify-content-center align-items-center"},[s("div",{staticClass:"text-center",attrs:{id:"login"}},[s("form",{staticClass:"form-signin",on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[t._m(1),s("h1",{staticClass:"h3 mb-3 font-weight-normal"},[t._v("Login")]),t.invalidCredentials?s("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v("Invalid username and password!")]):t._e(),this.$route.query.registration?s("div",{staticClass:"alert alert-success",attrs:{role:"alert"}},[t._v("Thank you for registering, please sign in.")]):t._e(),s("div",{staticClass:"d-flex justify-content-center inputBox"},[s("label",{staticClass:"sr-only",attrs:{for:"username"}},[t._v("Username")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"form-control",attrs:{type:"username",id:"username",placeholder:"Email",required:"",autofocus:""},domProps:{value:t.user.username},on:{input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}})]),s("div",{staticClass:"d-flex justify-content-center inputBox"},[s("label",{staticClass:"sr-only",attrs:{for:"password"}},[t._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",id:"password",placeholder:"Password",required:""},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}})]),s("button",{staticClass:"btn btn-lg btn-primary btn-block",attrs:{type:"submit"}},[t._v("Sign in")]),s("router-link",{attrs:{to:{name:"register"}}},[t._v("Need an account?")])],1)])])])])},rt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-sm-12 col-lg-6 picBox"},[s("img",{staticClass:"loginPic",attrs:{src:"https://i.pinimg.com/originals/e4/21/89/e4218901f99a8ae6fa14955360f9a03b.gif",alt:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h1",[s("i",{staticClass:"fas fa-mug-hot"}),t._v(" TE Time\n          ")])}],it=m.a.create({baseURL:"http://localhost:8080"}),ct={login:function(t){return it.post("/login",t)},register:function(t){return it.post("/register",t)}},lt={name:"login",components:{},data:function(){return{user:{username:"",password:""},invalidCredentials:!1}},methods:{login:function(){var t=this;ct.login(this.user).then((function(e){200==e.status&&(t.$store.commit("SET_AUTH_TOKEN",e.data.token),t.$store.commit("SET_USER",e.data.user),t.$router.push("/"))})).catch((function(e){var s=e.response;401===s.status&&(t.invalidCredentials=!0)}))}}},ut=lt,dt=(s("ed2e"),Object(r["a"])(ut,nt,rt,!1,null,"7fbd6872",null)),pt=dt.exports,mt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h1",[t._v("Logout")])},ht=[],ft={created:function(){this.$store.commit("LOGOUT"),this.$router.push("/login")}},vt=ft,bt=Object(r["a"])(vt,mt,ht,!1,null,null,null),gt=bt.exports,_t=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container main"},[s("div",{staticClass:"row"},[t._m(0),s("div",{staticClass:"form-box col-sm-12 col-lg-6 d-flex justify-content-center align-items-center"},[s("div",{staticClass:"text-center",attrs:{id:"register"}},[s("form",{staticClass:"form-register",on:{submit:function(e){return e.preventDefault(),t.register(e)}}},[t._m(1),s("h1",{staticClass:"h3 mb-3 font-weight-normal"},[t._v("Create Account")]),t.registrationErrors?s("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v("\n            "+t._s(t.registrationErrorMsg)+"\n          ")]):t._e(),s("label",{staticClass:"sr-only",attrs:{for:"email"}},[t._v("Email")]),s("div",{staticClass:"inputBox"},[s("div",{staticClass:"d-flex justify-content-center inputBox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.name,expression:"user.name"}],staticClass:"form-control",attrs:{type:"text",id:"name",placeholder:"Name",required:"",autofocus:""},domProps:{value:t.user.name},on:{input:function(e){e.target.composing||t.$set(t.user,"name",e.target.value)}}})])]),s("label",{staticClass:"sr-only",attrs:{for:"username"}},[t._v("Username")]),s("div",{staticClass:"inputBox"},[s("div",{staticClass:"d-flex justify-content-center inputBox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"form-control",attrs:{type:"email",id:"username",placeholder:"Email",required:"",autofocus:""},domProps:{value:t.user.username},on:{input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}})]),s("label",{staticClass:"sr-only",attrs:{for:"password"}},[t._v("Password")]),s("div",{staticClass:"d-flex justify-content-center inputBox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",id:"password",placeholder:"Password",required:""},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}})]),s("div",{staticClass:"d-flex justify-content-center inputBox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.confirmPassword,expression:"user.confirmPassword"}],staticClass:"form-control",attrs:{type:"password",id:"confirmPassword",placeholder:"Confirm Password",pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}",title:"Must contain at least one number and\n               one uppercase and lowercase letter, and at least 8 or more characters",required:""},domProps:{value:t.user.confirmPassword},on:{input:function(e){e.target.composing||t.$set(t.user,"confirmPassword",e.target.value)}}})])]),s("button",{staticClass:"btn btn-lg btn-primary btn-block",attrs:{type:"submit"}},[t._v("\n            Create Account\n          ")]),s("router-link",{attrs:{to:{name:"login"}}},[t._v("Already have an account?")])],1)])])])])},Ct=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-sm-12 col-lg-6 picBox"},[s("img",{staticClass:"loginPic",attrs:{src:"https://i.pinimg.com/originals/0a/f4/ce/0af4ce7d0f95c36448c86b67589342fe.gif",alt:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h1",[s("i",{staticClass:"fas fa-mug-hot"}),t._v(" TE Time")])}],yt={name:"register",data:function(){return{user:{email:"",username:"",password:"",confirmPassword:"",role:"user"},registrationErrors:!1,registrationErrorMsg:"There were problems registering this user."}},methods:{register:function(){var t=this;this.user.password!=this.user.confirmPassword?(this.registrationErrors=!0,this.registrationErrorMsg="Password & Confirm Password do not match."):ct.register(this.user).then((function(e){201==e.status&&t.$router.push({path:"/login",query:{registration:"success"}})})).catch((function(e){var s=e.response;t.registrationErrors=!0,400===s.status&&(t.registrationErrorMsg="Bad Request: Validation Errors")}))},clearErrors:function(){this.registrationErrors=!1,this.registrationErrorMsg="There were problems registering this user."}}},wt=yt,xt=(s("af95"),Object(r["a"])(wt,_t,Ct,!1,null,"74812150",null)),kt=xt.exports,Pt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[t._m(0),s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-2"}),s("div",{staticClass:"col-md-4 col-sm-12"},[s("div",{staticClass:"bg-dark header",staticStyle:{color:"white"}},[t._v("Upload a picture!")]),s("div",{staticClass:"d-flex justify-content-between"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.uploadImage(e)},change:function(e){return t.checkImageStatus(e)}}},[s("div",[s("input",{attrs:{type:"file",id:"file-upload",name:"filename"}}),s("br"),s("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:!t.ready},on:{click:function(e){t.isLoading=!0}}},[t._v("Upload")])])])]),t.upload_src.length>0?s("div",{staticStyle:{padding:"5% 0%"}},[s("div",{staticClass:"bg-dark header",staticStyle:{color:"white"}},[t._v("Add a description!")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],attrs:{type:"text",placeholder:"Spill the TE"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}}),s("br"),s("button",{staticClass:"btn btn-success",attrs:{type:"submit"},on:{click:function(e){return t.saveUpload()}}},[t._v("Post")])]):1==t.isLoading?s("div",[s("img",{attrs:{src:"https://mir-s3-cdn-cf.behance.net/project_modules/max_1200/42641350633939.58d51adc0f159.gif"}})]):t._e()]),s("div",{staticClass:"col-md-4 col-sm-12"},[s("div",{staticClass:"d-flex bg-dark"},[t._m(1),s("span",{staticClass:"d-flex align-items-center",staticStyle:{color:"white"}},[t._v(t._s(t.$store.state.user.name))])]),s("div",[s("img",{staticClass:"postImg",attrs:{src:t.output_src}})]),t._m(2),t.upload_src.length>0?s("div",{staticClass:"bg-dark",attrs:{id:"description"}},[s("span",{staticClass:"d-flex justify-content-between"},[s("b",[t._v(t._s(t.$store.state.user.name))])]),t._v('\n          "'+t._s(t._f("limit")(t.description,117))+'"\n        ')]):t._e()]),s("div",{staticClass:"col-md-2"})])])])},Et=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text-center"},[s("h3",[t._v("Spill the tea!")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"btn btn-dark"},[s("i",{staticClass:"far fa-user"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex bg-dark"},[s("div",{staticClass:"p-2"},[s("button",{staticClass:"btn btn-dark",attrs:{type:"button"}},[s("span",[s("i",{staticClass:"far fa-heart"})])])]),s("div",{staticClass:"p-2"},[s("button",{staticClass:"btn btn-dark",attrs:{type:"button"}},[s("span",[s("i",{staticClass:"far fa-comments"})])])]),s("div",{staticClass:"ml-auto p-2"},[s("button",{staticClass:"btn btn-dark",attrs:{type:"button"}},[s("span",[s("i",{staticClass:"far fa-star"})])])])])}],$t="https://api.cloudinary.com/v1_1/dtotytpog/image/upload",jt="lvizruov",Ot={newImage:function(t){return t.append("upload_preset",jt),fetch($t,{method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},body:t})}},Ut={name:"upload",data:function(){return{isLoading:!1,ready:!1,data_url:"",output_src:"https://media2.giphy.com/media/5z0cCz0Xl8rjbU83Kc/giphy.gif",description:"",upload_src:""}},methods:{checkImageStatus:function(t){var e=this,s=t.target.files[0],a=new FileReader;a.readAsDataURL(s),a.onload=function(){e.data_url=a.result,e.output_src=e.data_url,e.ready=!0}},uploadImage:function(){var t=this,e=new FormData;e.append("file",this.data_url),Ot.newImage(e).then((function(t){return t.json()})).then((function(e){""!==e.secure_url&&(console.log(e.secure_url),t.upload_src=e.secure_url)})).catch((function(t){console.log(t)}))},saveUpload:function(){var t=this;fetch("http://localhost:8080/addPhoto/",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({description:this.description,photo_src:this.upload_src,likes:0,user_id:this.$store.state.user.id,profile:!1})}).then((function(e){console.log(e),t.$router.push("/")}))}},filters:{limit:function(t){return t.length>120&&(t=t.substring(0,117)+"..."),t}}},St=Ut,Tt=(s("2862"),Object(r["a"])(St,Pt,Et,!1,null,"1741a90c",null)),Nt=Tt.exports,Ft=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("PostPhoto",{attrs:{photos:t.photos}}),s("UserName")],1)},Lt=[],At={name:"test",components:{PostPhoto:tt,UserName:F},data:function(){return{photos:""}},mounted:function(){var t=this;fetch("http://localhost:8080/photos",{method:"get"}).then((function(t){return t.json()})).then((function(e){t.photos=e.reverse()})),this.checkUserFavorites()}},Mt=At,qt=Object(r["a"])(Mt,Ft,Lt,!1,null,null,null),Dt=qt.exports,It=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._m(0),s("div",{staticClass:"container"},[s("PostPhotos",{attrs:{photos:t.userFavPhotos}})],1)])},Bt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text-center"},[s("h1",[t._v("Favorites")])])}],Jt={name:"favorites",data:function(){return{userFavPhotos:[]}},components:{PostPhotos:tt},methods:{checkUserFavorites:function(){var t=this;fetch("http://localhost:8080/"+this.$store.state.user.id+"/favorites",{method:"GET"}).then((function(t){return t.json()})).then((function(e){t.userFavPhotos=e})).catch((function(t){console.log(t)}))},inFavorites:function(t){var e=!1;return this.userFavPhotos.forEach((function(s){s.photo_id==t&&(e=!0)})),e},addToFavorite:function(t){var e=this;fetch("http://localhost:8080/addFavorite",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({user_id:this.$store.state.user.id,photo_id:t})}).then((function(t){201===t.status&&e.checkUserFavorites()})).catch((function(t){console.log(t)}))},deleteFromFavorite:function(t){var e=this;fetch("http://localhost:8080/deleteFavorite",{method:"DELETE",headers:{"content-type":"application/json"},body:JSON.stringify({user_id:this.$store.state.user.id,photo_id:t})}).then((function(t){204===t.status&&e.checkUserFavorites()})).catch((function(t){console.log(t)}))}},mounted:function(){this.checkUserFavorites()}},Rt=Jt,zt=(s("a09c"),Object(r["a"])(Rt,It,Bt,!1,null,null,null)),Gt=zt.exports,Ht=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("header",{staticClass:"text-center"},[t.$route.params.id==t.$store.state.user.id?s("h1",[t._v("\n      "+t._s(t.$store.state.user.name)+"'s Profile\n    ")]):s("h1",[t._v("\n      "+t._s(t.users.name)+"'s Profile\n    ")])]),s("PostPhoto",{attrs:{photos:t.photos}})],1)},Zt=[],Kt={name:"profile",data:function(){return{photos:"",users:""}},components:{PostPhoto:tt},created:function(){var t=this,e="http://localhost:8080/user/"+this.$route.params.id;fetch(e,{method:"get"}).then((function(t){return t.json()})).then((function(e){t.users=e}))},mounted:function(){var t=this,e="http://localhost:8080/photos/users/"+this.$route.params.id;fetch(e,{method:"get"}).then((function(t){return t.json()})).then((function(e){t.photos=e.reverse(),console.log(t.photos[0])}))},updated:function(){var t=this,e="http://localhost:8080/photos/users/"+this.$route.params.id;fetch(e,{method:"get"}).then((function(t){return t.json()})).then((function(e){t.photos=e.reverse()}))}},Xt=Kt,Vt=(s("f1ce"),Object(r["a"])(Xt,Ht,Zt,!1,null,"75f6d16a",null)),Wt=Vt.exports,Qt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[t.$route.params.id==this.$store.state.user.id||"ROLE_ADMIN"===t.$store.state.user.authorities[0].name?s("div",[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"card"},[s("h2",{staticClass:"header bg-dark"},[t._v("Change Username")]),s("div",{staticClass:"d-flex justify-content-between"},[s("label",[t._v("Email:")]),t._v("\n            "+t._s(t.$store.state.user.username)+"\n          ")]),s("form",{staticClass:"ui form",on:{submit:function(e){return e.preventDefault(),t.editUser(e)}}},[s("div",{staticClass:"d-flex justify-content-between"},[s("label",[t._v("Current name:")]),t._v("\n              "+t._s(t.$store.state.user.name)+"\n            ")]),s("div",{staticClass:"d-flex justify-content-between"},[s("label",[t._v("New name:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.name,expression:"newUser.name"}],attrs:{type:"text",name:"name"},domProps:{value:t.newUser.name},on:{input:function(e){e.target.composing||t.$set(t.newUser,"name",e.target.value)}}})]),s("br"),s("div",{staticClass:"d-flex float-right"},[s("button",{staticClass:"btn btn-warning",attrs:{disabled:0==t.newUser.name.length},on:{click:function(e){t.editUser(),t.userNameFlip()}}},[t._v("Update Username")])]),t.userNameSuccess?s("div",{staticStyle:{color:"green"}},[t._v("Success! Re-log to see changes")]):t._e()])])]),s("div",{staticClass:"col-md-5"},[s("div",{staticClass:"card"},[s("h2",{staticClass:"header bg-dark"},[t._v("Change Password")]),s("form",[s("div",{staticClass:"d-flex justify-content-between"},[s("label",[t._v("Old Password:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.oldPass,expression:"oldPass"}],attrs:{type:"password",name:"oldPass"},domProps:{value:t.oldPass},on:{input:function(e){e.target.composing||(t.oldPass=e.target.value)}}})]),s("br"),s("div",{staticClass:"d-flex justify-content-between"},[s("label",[t._v("New Password:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newPass,expression:"newPass"}],attrs:{type:"password",name:"newPass",pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}",title:"Must contain at least one number and\n               one uppercase and lowercase letter, and at least 8 or more characters",required:""},domProps:{value:t.newPass},on:{input:function(e){e.target.composing||(t.newPass=e.target.value)}}})]),s("br"),s("div",{staticClass:"d-flex justify-content-between"},[s("label",[t._v("Confirm New Password:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newPassCon,expression:"newPassCon"}],attrs:{type:"password",name:"newPassCon",pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}",title:"Must contain at least one number and\n               one uppercase and lowercase letter, and at least 8 or more characters"},domProps:{value:t.newPassCon},on:{input:function(e){e.target.composing||(t.newPassCon=e.target.value)}}})]),s("br"),s("div",{staticClass:"bg-dark"},[s("button",{staticClass:"btn btn-warning float-right",attrs:{disabled:0==t.newPassCon.length},on:{click:function(e){return t.changePassword()}}},[t._v("Update Password")])])])])]),s("div",{staticClass:"col-md-3"},[s("div",{staticClass:"card"},[s("h2",{staticClass:"header bg-dark"},[t._v("DELETE USER")]),s("form",[s("div",{},[s("div",[t._v("Type email to confirm deletion: "+t._s(t.$store.state.user.username))]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.deleteConfirm,expression:"deleteConfirm"}],attrs:{type:"text",name:"delete",id:"deleteConfirm"},domProps:{value:t.deleteConfirm},on:{input:function(e){e.target.composing||(t.deleteConfirm=e.target.value)}}})]),s("div",{staticClass:"bg-dark"},[s("button",{staticClass:"btn btn-danger float-right",attrs:{disabled:t.deleteConfirm!=t.$store.state.user.username},on:{click:t.deleteUser}},[t._v("DELETE USER")])])])])])])]):s("div",[t._v("NOT AUTHORIZED")]),s("Username")],1)},Yt=[],te={name:"settings",components:{Username:F},data:function(){return{users:[],userNameSuccess:!1,newUser:{id:this.$store.state.user.id,username:this.$store.state.user.username,name:""},oldPass:"",newPass:"",newPassCon:"",deleteConfirm:""}},mounted:function(){var t=this,e="http://localhost:8080/user/"+this.$route.params.id;fetch(e,{method:"get"}).then((function(t){return t.json()})).then((function(e){t.users=e}))},methods:{userNameFlip:function(){this.userNameSuccess=!0},editUser:function(){console.log("sending"),fetch("http://localhost:8080/users/"+this.$route.params.id,{method:"put",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(this.newUser)}).then((function(t){console.log(t)}))},changePassword:function(){var t=[this.oldPass,this.newPass];console.log(t),fetch("http://localhost:8080/users/"+this.$route.params.id+"/password",{method:"put",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(t){console.log(t)})),this.vm.$forceUpdate()},deleteUser:function(){fetch("http://localhost:8080/users/"+this.$route.params.id,{method:"delete"}).then(this.$router.push("/logout"))}}},ee=te,se=(s("83c0"),Object(r["a"])(ee,Qt,Yt,!1,null,"5b1363bb",null)),ae=se.exports,oe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[t._m(0),s("PostPhoto",{attrs:{photos:t.photos}})],1)},ne=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text-center"},[s("h1",[t._v("Explore")])])}],re=s("2ef0"),ie=s.n(re),ce={data:function(){return{photos:[]}},components:{PostPhoto:tt},mounted:function(){var t=this;fetch("http://localhost:8080/photos",{method:"get"}).then((function(t){return t.json()})).then((function(e){t.photos=ie.a.shuffle(e)}))}},le=ce,ue=Object(r["a"])(le,oe,ne,!1,null,null,null),de=ue.exports;a["default"].use(u["a"]);var pe=new u["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:ot,meta:{requiresAuth:!0}},{path:"/explore",name:"explore",component:de,meta:{requiresAuth:!0}},{path:"/upload",name:"upload",component:Nt,meta:{requiresAuth:!0}},{path:"/profile/:id",name:"userProfile",component:Wt,meta:{requiresAuth:!0}},{path:"/login",name:"login",component:pt,meta:{requiresAuth:!1}},{path:"/logout",name:"logout",component:gt,meta:{requiresAuth:!0}},{path:"/register",name:"register",component:kt,meta:{requiresAuth:!1}},{path:"/test",name:"test",component:Dt,meta:{requiresAuth:!0}},{path:"/favorites",name:"favorites",component:Gt,meta:{requiresAuth:!0}},{path:"/settings/:id",name:"settings",component:ae,meta:{requiresAuth:!0}}]});pe.beforeEach((function(t,e,s){var a=t.matched.some((function(t){return t.meta.requiresAuth}));a&&""===v.state.token?s("/login"):s()}));var me=pe,he=s("5f5b");s("f9e3"),s("2dd8"),s("15f5"),s("7051");a["default"].use(he["a"]),a["default"].config.productionTip=!1,m.a.defaults.baseURL="http://localhost:8080",new a["default"]({router:me,store:v,render:function(t){return t(l)}}).$mount("#app")},"83c0":function(t,e,s){"use strict";var a=s("ee81"),o=s.n(a);o.a},"8f09":function(t,e,s){"use strict";var a=s("4aa2"),o=s.n(a);o.a},a09c:function(t,e,s){"use strict";var a=s("d38b"),o=s.n(a);o.a},af95:function(t,e,s){"use strict";var a=s("fe9f"),o=s.n(a);o.a},b08b:function(t,e,s){"use strict";var a=s("28a0"),o=s.n(a);o.a},ce62:function(t,e,s){},d30d:function(t,e,s){"use strict";var a=s("d525"),o=s.n(a);o.a},d38b:function(t,e,s){},d525:function(t,e,s){},d839:function(t,e,s){},e365:function(t,e,s){"use strict";var a=s("fe53"),o=s.n(a);o.a},e8ac:function(t,e,s){},ed2e:function(t,e,s){"use strict";var a=s("ce62"),o=s.n(a);o.a},ee81:function(t,e,s){},f1ce:function(t,e,s){"use strict";var a=s("e8ac"),o=s.n(a);o.a},fa99:function(t,e,s){},fe53:function(t,e,s){},fe9f:function(t,e,s){}});
//# sourceMappingURL=app.b9a5e38d.js.map